# Time Segments for Obsidian

[![Obsidian Build](https://img.shields.io/badge/Obsidian-v0.13.14%2B-purple.svg)](https://obsidian.md)

**Time Segments** 是一款 Obsidian 插件，旨在自动化您的写作时间记录流程。它能智能地为您添加开始和结束时间戳，并将所有记录汇集到一个可交互、可分析的时间轴视图中。从此告别手动记录，轻松掌控您的每一个灵感瞬间。

---

### 演示

![alt text](demo.gif)


---

### ✨ 功能亮点

* ✍️ **智能时间戳**：无需任何操作，只要您开始在新位置写作，插件就会自动为您插入当前时间。
* ⌛️ **自动结束计时**：当您离开键盘超过设定的时间（默认为5分钟），插件会自动为您补齐该时间段的结束时间。
* 📅 **交互式时间轴**：在专属的视图中，您可以按天、周、月、年回顾您所有的写作记录。
* 📊 **数据统计**：自动计算每日和总体的写作时长、会话次数、涉及文件数和平均会话时长，让您的努力清晰可见。
* 🖱️ **多选与管理**：在时间轴视图中，可以方便地多选并批量删除不再需要的时间段记录。
* 🔎 **搜索与筛选**：快速根据文件名搜索，或按时间范围筛选您想查看的记录。
* 🚀 **点击跳转**：在时间轴中点击任意一条记录，即可立即跳转到笔记中的对应位置并高亮显示。
* 📤 **多格式导出**：一键将您的时间段数据导出为 **Markdown** 或 **CSV** 格式，方便您进行二次分析或备份。
* 🔧 **高度可配置**：从时间格式到各种阈值，插件提供了丰富的设置项，让它完全符合您的个人习惯。

---

### ⚙️ 安装


1.  从本仓库的 [Releases](https://github.com/c-chenyi/obsidian-time-segments/releases) 页面下载最新的 `main.js`, `styles.css`, `manifest.json` 文件。
2.  在您的 Obsidian 仓库中，进入 `.obsidian/plugins/` 目录。
3.  创建一个新的文件夹，例如 `time-segments`。
4.  将下载的三个文件放入刚刚创建的文件夹中。
5.  重启 Obsidian，然后在“第三方插件”设置中启用 "Time Segments"。

---

### 🚀 使用指南

1.  **开始写作**：在您的任意笔记中，在一个新的空行开始打字，插件会自动在该行的上方插入一个带有当前时间的时间戳。
2.  **结束写作**：
    * **自动结束**：停止打字，离开Obsidian或电脑。当超过您在设置中定义的“空闲阈值”（如5分钟），插件会自动为您补上结束时间。
    * **手动结束**：按下 `Ctrl/Cmd + P` 打开命令面板，搜索并执行 "Time Segments: 开始/结束 时间段" 命令，即可立即结束当前的时间段(可添加快捷键)。
3.  **查看记录**：
    * 点击 Obsidian 左侧边栏的 "时钟" 图标。
    * 或者，使用命令面板 (`Ctrl/Cmd + P`) 执行 "Time Segments: 打开时间轴视图"(可添加快捷键)。
4.  **导出数据**：
    * 在时间轴视图中，使用顶部的筛选器选择您想要导出的时间范围。
    * 点击 "导出 MD" 或 "导出 CSV" 按钮。

---

### 🤝 贡献

欢迎各种形式的贡献，包括提交问题 (Issues)、请求新功能 (Feature Requests) 和代码贡献 (Pull Requests)。

---

### 📄 许可证

本项目采用 [MIT License](LICENSE) 许可证。